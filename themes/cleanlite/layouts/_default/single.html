{{ define "main" }}
<article class="post">
  <header class="post-head">
    <h1>{{ .Title }}</h1>
    <div class="meta">
      {{ .Date.Format "Jan 2, 2006" }}
      {{ with .ReadingTime }} Â· {{ . }} min read{{ end }}
    </div>

    {{ with .Params.image }}
    {{ $hero := . | strings.TrimPrefix "/" }}
    <figure class="post-hero">
      <img src="{{ $hero | relURL }}" alt="{{ $.Title }} cover image" loading="eager" />
    </figure>
    {{ end }}

    <div class="chips">
      {{ range .Params.series }}<a class="chip" href="{{ (printf "series/%s/" (urlize .)) | relURL }}">Series: {{ . }}</a>{{ end }}
      {{ range .Params.categories }}<a class="chip" href="{{ (printf "categories/%s/" (urlize .)) | relURL }}">{{ . }}</a>{{ end }}
      {{ range .Params.tags }}<a class="chip" href="{{ (printf "tags/%s/" (urlize .)) | relURL }}">#{{ . }}</a>{{ end }}
    </div>
  </header>

  <div class="content">
    {{ .Content }}
  </div>
</article>
{{ end }}
